(this["webpackJsonpcollege-japanece-point"]=this["webpackJsonpcollege-japanece-point"]||[]).push([[0],[,,,,,,,,,,,,,function(e,a,c){},,,,,,,,,,function(e,a,c){},function(e,a,c){},,function(e,a,c){},function(e,a,c){},,,,,,function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){},function(e,a,c){"use strict";c.r(a);var t=c(1),n=c.n(t),s=c(17),i=c.n(s),r=(c(23),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,51)).then((function(a){var c=a.getCLS,t=a.getFID,n=a.getFCP,s=a.getLCP,i=a.getTTFB;c(e),t(e),n(e),s(e),i(e)}))}),o=c(2),l=c(5),j=c(3),m=(c(24),c(13),c(0));function d(e){return Object(m.jsxs)("div",{className:"game-card",children:[Object(m.jsx)("div",{className:"game-card__overlay"}),Object(m.jsxs)("div",{className:"img-container",children:[Object(m.jsx)("img",{className:"game-card__img",src:e.vertical[0],alt:""}),Object(m.jsx)("img",{className:"delete-button",src:"/college-japanece-point/resources/delete.svg",width:"24",height:"24",onClick:function(){fetch("https://japanese-point.herokuapp.com/api/v1/update/",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"id": "'.concat(e.gameId,'", "isInCart":false}')}).then((function(a){return e.magiCounterSet(e.magicCounter+1)}))}})]}),Object(m.jsxs)("div",{className:"game-card__content-container",children:[Object(m.jsx)("div",{className:"game-card__name",children:e.gameName}),Object(m.jsx)("div",{className:"game-card__developer",children:e.gameDeveloper}),Object(m.jsxs)("div",{className:"price-container",children:[e.newPrice?Object(m.jsx)("div",{className:"game-card__discount-percent",children:"-"+new Intl.NumberFormat("en-GB",{style:"percent"}).format(e.newPrice/e.oldPrice)}):Object(m.jsx)(m.Fragment,{}),Object(m.jsx)("div",{className:e.newPrice?"old-price":"current-price",children:0===e.oldPrice?"Free":e.oldPrice+" rub"}),e.newPrice?Object(m.jsx)("div",{className:"new-price",children:e.newPrice+" rub"}):Object(m.jsx)(m.Fragment,{})]})]})]})}c(26);function b(e){return Object(m.jsx)("div",{className:"game-list",children:e.games})}c(27);function p(){return Object(m.jsx)("nav",{className:"navigation",children:Object(m.jsxs)("ul",{className:"navigation__list",children:[Object(m.jsx)(l.c,{className:"deactive",exact:!0,to:"/",children:Object(m.jsx)("li",{className:"navigation__logo-container",children:Object(m.jsx)("img",{className:"navigation__logo",src:"/college-japanece-point/resources/Logo.svg",alt:""})})}),Object(m.jsx)(l.c,{activeClassName:"active",exact:!0,to:"/",children:Object(m.jsx)("li",{className:"navigation__item2",children:"Home"})}),Object(m.jsx)(l.c,{activeClassName:"active",to:"/search",children:Object(m.jsx)("li",{className:"navigation__item3",children:"Search"})}),Object(m.jsx)(l.c,{activeClassName:"active",to:"/library",children:Object(m.jsx)("li",{className:"navigation__item4",children:"Library"})}),Object(m.jsx)(l.c,{activeClassName:"active",to:"/cart",className:"navigation__item5",children:Object(m.jsx)("li",{className:"navigation__cart-container",children:Object(m.jsx)("img",{className:"cart",src:"/college-japanece-point/resources/cart.svg",alt:""})})}),Object(m.jsx)(l.c,{activeClassName:"active",to:"/profile",children:Object(m.jsx)("li",{className:"navigation__user-container",children:Object(m.jsx)("img",{src:"/college-japanece-point/resources/user.svg",alt:""})})})]})})}c(33);function u(){var e=Object(t.useState)(0),a=Object(o.a)(e,2),c=a[0],n=a[1],s=Object(t.useState)(),i=Object(o.a)(s,2),r=i[0],l=i[1],j=Object(t.useState)(0),u=Object(o.a)(j,2),h=u[0],O=u[1];Object(t.useEffect)((function(){fetch("https://japanese-point.herokuapp.com/api/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"isInCart": true }'}).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[h]),Object(t.useEffect)((function(){var e;e=r?r.reduce((function(e,a){return e+(a.isInSale?a.gameSalePrice:a.gamePrice)}),0):0,n(e)}),[r]);var g=null===r||void 0===r?void 0:r.map((function(e){return Object(m.jsx)(d,{gameDescription:e.gameDescription,gameDeveloper:e.developer,gameName:e.gameName,newPrice:e.gameSalePrice,oldPrice:e.gamePrice,vertical:e.images.vertical,gameId:e.id,magicCounter:h,magiCounterSet:O},e.gameName)}));return Object(m.jsxs)("div",{className:"cart-page",children:[Object(m.jsx)(p,{}),Object(m.jsxs)("div",{className:"cart-page-container",children:[Object(m.jsx)(b,{games:g}),Object(m.jsxs)("div",{className:"order-final",children:[Object(m.jsxs)("p",{className:"cart-page__price-container",children:["Total price: ",Object(m.jsx)("span",{className:"cart-page__price",children:c})]}),Object(m.jsx)("button",{className:"order-button",children:"ORDER"})]})]})]})}c(34),c(35);function h(e){return Object(m.jsx)("iframe",{className:"youtube-iframe-slideshow",src:e.video,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}function O(e){return Object(m.jsx)("div",{className:e.gameName===e.active?"slide":"notCurrent",children:e.isVideo?Object(m.jsx)(h,{video:e.gameName}):Object(m.jsx)("img",{src:e.gameName})})}c(36);function g(e){var a=Object(t.useState)([""]),c=Object(o.a)(a,2),n=c[0],s=c[1],i=Object(t.useState)(""),r=Object(o.a)(i,2),l=r[0],j=r[1],d=Object(t.useState)(),b=Object(o.a)(d,2),p=b[0],u=b[1];return Object(t.useEffect)((function(){var a;s(null===(a=e.videos)||void 0===a?void 0:a.concat(e.horizontal))}),[e]),Object(t.useEffect)((function(){l||j(null===n||void 0===n?void 0:n[0]);var e=null===n||void 0===n?void 0:n.map((function(e){return Object(m.jsx)(O,{isVideo:n[0]==e,gameName:e,active:l},e)}));u(e)}),[n,l]),Object(m.jsxs)("div",{className:"slideshow-wrapper",children:[Object(m.jsx)("div",{className:"slideshow",children:p}),Object(m.jsxs)("div",{className:"slideshow-controls",children:[Object(m.jsx)("div",{className:"left-btn",onClick:function(){var e=n.findIndex((function(e){return e===l}));j(e-1<0?n[n.length-1]:n[e-1])},children:"<"}),Object(m.jsx)("div",{className:"slideshow-controls__dots",children:null===n||void 0===n?void 0:n.map((function(e,a){return Object(m.jsx)("div",{className:e===l?"active-dot":"notactive-dot",onClick:function(){j(null===n||void 0===n?void 0:n[a])}})}))}),Object(m.jsx)("div",{className:"right-btn",onClick:function(){var e=n.findIndex((function(e){return e===l}));j(n[(e+1)%3])},children:">"})]})]})}c(37);function v(e){var a=Object(j.g)(),c=Object(t.useState)(),n=Object(o.a)(c,2),s=n[0],i=n[1];return Object(t.useEffect)((function(){fetch("https://japanese-point.herokuapp.com/api/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"id": "'.concat(a.gameId,'"}')}).then((function(e){return e.json()})).then((function(e){return i(e)}))}),[s]),Object(m.jsxs)("div",{className:"game-page",children:[Object(m.jsx)(p,{}),Object(m.jsxs)("div",{className:"game-page__content",children:[Object(m.jsxs)("div",{className:"game-page__nav-line",children:[Object(m.jsxs)("div",{className:"game-page__come-back",children:[Object(m.jsx)("img",{src:"#",alt:"",className:"game-page__back-arrow"}),Object(m.jsx)("p",{className:"game-page__back-text",children:"Return"})]}),Object(m.jsx)("div",{className:"game-page__text-separator"}),Object(m.jsx)("div",{className:"game-page__current-game",children:null===s||void 0===s?void 0:s[0].gameName})]}),Object(m.jsx)("div",{className:"game-page__game-title",children:null===s||void 0===s?void 0:s[0].gameName}),Object(m.jsxs)("div",{className:"game-page__main-info",children:[Object(m.jsx)("div",{className:"game-page__slideshow-container",children:Object(m.jsx)(g,{horizontal:null===s||void 0===s?void 0:s[0].images.horizontal,videos:null===s||void 0===s?void 0:s[0].videos})}),Object(m.jsxs)("div",{className:"game-page__buy-info",children:[Object(m.jsx)("img",{src:null===s||void 0===s?void 0:s[0].images.logo,alt:"",className:"game-page__logo"}),Object(m.jsxs)("div",{className:"price-container",children:[(null===s||void 0===s?void 0:s[0].gameSalePrice)?Object(m.jsx)("div",{className:"game-card__discount-percent",children:"-"+new Intl.NumberFormat("en-GB",{style:"percent"}).format((null===s||void 0===s?void 0:s[0].gameSalePrice)/(null===s||void 0===s?void 0:s[0].gamePrice))}):Object(m.jsx)(m.Fragment,{}),Object(m.jsx)("div",{className:(null===s||void 0===s?void 0:s[0].gameSalePrice)?"old-price":"current-price",children:0===(null===s||void 0===s?void 0:s[0].gamePrice)?"Free":(null===s||void 0===s?void 0:s[0].gamePrice)+" rub"}),(null===s||void 0===s?void 0:s[0].gameSalePrice)?Object(m.jsx)("div",{className:"new-price",children:(null===s||void 0===s?void 0:s[0].gameSalePrice)+" rub"}):Object(m.jsx)(m.Fragment,{})]}),(null===s||void 0===s?void 0:s[0].isInCart)?Object(m.jsx)("button",{className:"game-page__buy-button",children:"Already in cart"}):Object(m.jsx)("button",{className:"game-page__buy-button",onClick:function(){fetch("https://japanese-point.herokuapp.com/api/v1/update/",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"id": "'.concat(a.gameId,'", "isInCart":true}')}).then((function(e){var a=s;a[0].isInCart=!0,i(a)}))},children:"Add to cart"})]})]})]})]})}c(38);function x(e){var a=Object(j.f)();return 1===a.pathname.length&&(a.pathname=""),Object(m.jsxs)(l.b,{className:"game-card",to:a.pathname+"/"+e.gameId,children:[Object(m.jsx)("div",{className:"img-container",children:Object(m.jsx)("img",{src:e.vertical[0],alt:""})}),Object(m.jsxs)("div",{className:"game-card__content-container",children:[Object(m.jsx)("div",{className:"game-card__name",children:e.gameName}),Object(m.jsx)("div",{className:"game-card__developer",children:e.gameDeveloper}),Object(m.jsxs)("div",{className:"price-container",children:[e.newPrice?Object(m.jsx)("div",{className:"game-card__discount-percent",children:"-"+new Intl.NumberFormat("en-GB",{style:"percent"}).format(e.newPrice/e.oldPrice)}):Object(m.jsx)(m.Fragment,{}),Object(m.jsx)("div",{className:e.newPrice?"old-price":"current-price",children:0===e.oldPrice?"Free":e.oldPrice+" rub"}),e.newPrice?Object(m.jsx)("div",{className:"new-price",children:e.newPrice+" rub"}):Object(m.jsx)(m.Fragment,{})]})]})]})}c(39);function N(e){return Object(m.jsx)("h2",{children:e.headingText})}c(40),c(41),c(42);function _(e){var a,c,n=Object(t.useState)(),s=Object(o.a)(n,2),i=s[0],r=s[1];return Object(t.useEffect)((function(){fetch("https://japanese-point.herokuapp.com/api/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"gameName": "'.concat(e.activeGameName,'"}')}).then((function(e){return e.json()})).then((function(e){r(e)}))}),[e]),Object(m.jsx)("div",{className:"home-slideshow-item",children:Object(m.jsx)("img",{src:null===i||void 0===i||null===(a=i[0])||void 0===a||null===(c=a.images)||void 0===c?void 0:c.horizontal[0],alt:"",className:"home-slideshow-item__image"})})}c(43);function f(e){return Object(m.jsxs)("div",{className:"home-slideshow-sidebar-item",children:[Object(m.jsxs)("div",{className:"home-slideshow-sidebar-item__content",children:[Object(m.jsx)("img",{src:e.vertical[0],alt:"",className:"home-slideshow-sidebar-item__img"}),Object(m.jsx)("p",{className:"home-slideshow-sidebar-item__name",children:e.gameName})]}),Object(m.jsx)("div",{className:e.gameName==e.activeSlideName?"home-slideshow-sidebar-item__progressbar-active":"home-slideshow-sidebar-item__progressbar"})]})}function P(){var e=Object(t.useState)([]),a=Object(o.a)(e,2),c=a[0],n=a[1],s=Object(t.useState)(0),i=Object(o.a)(s,2),r=i[0],l=i[1],j=Object(t.useState)(""),d=Object(o.a)(j,2),b=d[0],p=d[1];Object(t.useEffect)((function(){fetch("https://japanese-point.herokuapp.com/api/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"isInSale": true}'}).then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),Object(t.useEffect)((function(){setTimeout((function(){var e;l(r+1),p(null===(e=c[r%4])||void 0===e?void 0:e.gameName)}),5e3)}),[r,c]);var u=null===c||void 0===c?void 0:c.map((function(e){return Object(m.jsx)(f,{gameName:e.gameName,vertical:e.images.vertical,activeSlideName:b},e.gameName)}));return Object(m.jsxs)("div",{className:"home-slideshow",children:[Object(m.jsx)("div",{className:"home-slideshow__active",children:Object(m.jsx)(_,{activeGameName:b})}),Object(m.jsx)("div",{className:"home-slideshow__sidebar",children:u})]})}function S(){var e=Object(t.useState)(),a=Object(o.a)(e,2),c=a[0],n=a[1],s=Object(t.useState)(),i=Object(o.a)(s,2),r=i[0],l=i[1];return Object(t.useEffect)((function(){fetch("https://japanese-point.herokuapp.com/api/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"isInSale": true }'}).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),Object(t.useEffect)((function(){var e=null===r||void 0===r?void 0:r.map((function(e){return Object(m.jsx)(x,{gameId:e.id,gameDescription:e.gameDescription,gameDeveloper:e.developer,gameName:e.gameName,newPrice:e.gameSalePrice,oldPrice:e.gamePrice,vertical:e.images.vertical},e.id)}));n(e)}),[r]),Object(m.jsx)("div",{className:"main-page",children:Object(m.jsxs)("div",{className:"main-page__content",children:[Object(m.jsx)(p,{}),Object(m.jsx)("div",{className:"slideshow-layout",children:Object(m.jsx)(P,{})}),Object(m.jsxs)("div",{className:"main-page__sales-block",children:[Object(m.jsx)(N,{headingText:"\u0421\u043a\u0438\u0434\u043a\u0438"}),Object(m.jsx)("div",{className:"main-page__sales-wrapper",children:Object(m.jsx)("div",{className:"main-page__sales-spotlight-list",children:null===c||void 0===c?void 0:c.slice(0,4)})})]})]})})}c(44);function w(e){var a=Object(t.useState)({minutes:e.minutesInGame%60,hours:e.minutesInGame/60>>0,days:e.minutesInGame/1440>>0}),c=Object(o.a)(a,2),n=c[0],s=(c[1],Object(j.f)());return Object(m.jsxs)(l.b,{className:"game-card",to:s.pathname+"/"+e.gameId,children:[Object(m.jsx)("div",{className:"img-container",children:Object(m.jsx)("img",{src:e.vertical[0],alt:""})}),Object(m.jsxs)("div",{className:"game-card__content-container",children:[Object(m.jsx)("div",{className:"game-card__name",children:e.gameName}),Object(m.jsx)("div",{className:"game-card__developer",children:e.gameDeveloper}),Object(m.jsx)("div",{className:"time-container",children:"".concat(n.days," days ").concat(n.hours," hours ").concat(n.minutes," minutes")})]})]})}c(45);function E(e){return Object(m.jsx)("input",{type:"text",name:"searchString",id:"",className:"game-searchbar",placeholder:"Search",value:e.searchbarString,onChange:function(a){e.setSearchString(a.target.value)}})}c(46);function y(){var e=Object(t.useState)(""),a=Object(o.a)(e,2),c=a[0],n=a[1],s=Object(t.useState)([]),i=Object(o.a)(s,2),r=i[0],l=i[1];Object(t.useEffect)((function(){fetch("https://japanese-point.herokuapp.com/api/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"gameName": {"$regex": ".*'.concat(c,'.*" , "$options" : "i"  },\n              "bought": true}')}).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[c]);var j=r.map((function(e){return Object(m.jsx)(w,{gameName:e.gameName,gameDescription:e.gameDescription,gameDeveloper:e.developer,minutesInGame:e.hoursInGame,gameId:e.id,vertical:e.images.vertical},e.gameName)}));return Object(m.jsxs)("div",{className:"library",children:[Object(m.jsx)(p,{}),Object(m.jsxs)("div",{className:"library-page-container",children:[Object(m.jsx)(E,{searchbarString:c,setSearchString:n}),Object(m.jsx)(b,{games:j})]})]})}c(47);function I(e){return Object(m.jsx)("div",{className:e.isEnding?"banner-container banner__ending":"banner-container",children:Object(m.jsxs)("div",{className:"banner",children:[Object(m.jsxs)("div",{className:"banner__top",children:[Object(m.jsx)("p",{className:"banner__text banner__top1",children:"JAPANESE POINT"}),Object(m.jsx)("p",{className:"banner__text banner__top2",children:"JAPANESE POINT"}),Object(m.jsx)("p",{className:"banner__text banner__top3",children:"JAPANESE POINT"}),Object(m.jsx)("p",{className:"banner__text banner__top4",children:"JAPANESE POINT"}),Object(m.jsx)("p",{className:"banner__text banner__top5",children:"JAPANESE POINT"})]}),Object(m.jsxs)("div",{className:"banner__midle",children:[Object(m.jsx)("img",{src:"/college-japanece-point/resources/loading_cube.png",className:"banner__cube-img",alt:""}),Object(m.jsx)("p",{className:"banner__text banner__midle-text",children:"JAPANESE POINT JAPANESE POINT JAPANESE POINT JAPANESE POINT JAPANESE POINT"})]}),Object(m.jsxs)("div",{className:"banner__bottom",children:[Object(m.jsx)("p",{className:"banner__text banner__bottom5",children:"JAPANESE POINT"}),Object(m.jsx)("p",{className:"banner__text banner__bottom4",children:"JAPANESE POINT"}),Object(m.jsx)("p",{className:"banner__text banner__bottom3",children:"JAPANESE POINT"}),Object(m.jsx)("p",{className:"banner__text banner__bottom2",children:"JAPANESE POINT"}),Object(m.jsx)("p",{className:"banner__text banner__bottom1",children:"JAPANESE POINT"})]})]})})}c(48);function T(){return Object(m.jsxs)("div",{className:"profile-page",children:[Object(m.jsx)(p,{}),Object(m.jsx)("div",{className:"profile-page__flex-container",children:Object(m.jsxs)("div",{className:"profile-page__container",children:[Object(m.jsxs)("div",{className:"profile-page__main",children:[Object(m.jsx)("img",{src:"/college-japanece-point/resources/placeholder_user.jpg",alt:"",className:"profile-page__avatar"}),Object(m.jsx)("p",{className:"profile-page__username",children:"Example_Username"})]}),Object(m.jsxs)("div",{className:"profile-page__data",children:[Object(m.jsx)("label",{htmlFor:"email",children:"Your email:"}),Object(m.jsx)("input",{type:"email",name:"email",id:"",value:"example@example.com",disabled:!0}),Object(m.jsx)("h2",{className:"profile-page__password-heading",children:"Change password"}),Object(m.jsx)("label",{htmlFor:"profile-page__password",children:"Your old password:"}),Object(m.jsx)("input",{type:"password",name:"profile-page__password",placeholder:"Enter old password",id:"",className:"profile-page__password"}),Object(m.jsx)("label",{htmlFor:"profile-page__password-new",children:"Your new password:"}),Object(m.jsx)("input",{type:"password",placeholder:"Enter new password",name:"",id:"",className:"profile-page__password-new"})]})]})})]})}c(49);function C(){var e=Object(t.useState)(""),a=Object(o.a)(e,2),c=a[0],n=a[1],s=Object(t.useState)([]),i=Object(o.a)(s,2),r=i[0],l=i[1];Object(t.useEffect)((function(){fetch("https://japanese-point.herokuapp.com/api/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:'{"gameName": {"$regex": ".*'.concat(c,'.*", "$options" : "i"  }}')}).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[c]);var j=r.map((function(e){return Object(m.jsx)(x,{gameId:e.id,gameName:e.gameName,gameDescription:e.gameDescription,gameDeveloper:e.developer,newPrice:e.gameSalePrice,oldPrice:e.gamePrice,vertical:e.images.vertical},e.gameName)}));return Object(m.jsxs)("div",{children:[Object(m.jsx)(p,{}),Object(m.jsxs)("div",{className:"search-page-container",children:[Object(m.jsx)(E,{searchbarString:c,setSearchString:n}),Object(m.jsx)(b,{games:j})]})]})}function A(){var e=Object(t.useState)(!0),a=Object(o.a)(e,2),c=a[0],n=a[1],s=Object(t.useState)(!c),i=Object(o.a)(s,2),r=i[0],d=i[1];return Object(t.useEffect)((function(){fetch("https://japanese-point.herokuapp.com/api/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:"{}"}).then((function(e){setTimeout((function(){e.json(),d(!0),setTimeout((function(){return n(!1)}),3e3)}),3e3)}))}),[]),c?Object(m.jsx)(I,{isEnding:r}):Object(m.jsx)(l.a,{basename:"/college-japanece-point",children:Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.a,{exact:!0,path:"/",children:Object(m.jsx)(S,{})}),Object(m.jsx)(j.a,{path:"/search/:gameId",component:v}),Object(m.jsx)(j.a,{path:"/search",children:Object(m.jsx)(C,{})}),Object(m.jsx)(j.a,{path:"/library/:gameId",component:v}),Object(m.jsx)(j.a,{path:"/library",children:Object(m.jsx)(y,{})}),Object(m.jsx)(j.a,{path:"/cart",children:Object(m.jsx)(u,{})}),Object(m.jsx)(j.a,{path:"/profile",children:Object(m.jsx)(T,{})}),Object(m.jsx)(j.a,{path:"/:gameId",component:v})]})})}i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(A,{})}),document.getElementById("root")),r()}],[[50,1,2]]]);
//# sourceMappingURL=main.2e895a93.chunk.js.map